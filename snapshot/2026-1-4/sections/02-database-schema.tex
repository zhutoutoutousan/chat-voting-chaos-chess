\section{Database Schema Status}

\subsection{Database Information}
\begin{itemize}
    \item \textbf{Provider}: Supabase (PostgreSQL)
    \item \textbf{Connection}: Configured and tested
    \item \textbf{Schema Status}: Fully deployed
    \item \textbf{Migrations}: Applied via \texttt{prisma db push}
    \item \textbf{Seed Data}: Populated with initial data
\end{itemize}

\subsection{Database Models}

The database contains \textbf{25+ models} covering all platform features:

\subsubsection{Core Models}
\begin{itemize}
    \item \texttt{User} - User accounts and profiles
    \item \texttt{OAuthAccount} - OAuth provider accounts
    \item \texttt{Game} - Chess games
    \item \texttt{Move} - Game moves
    \item \texttt{Rating} - User ratings (multiple types)
    \item \texttt{Vote} - Chaos mode votes
\end{itemize}

\subsubsection{Social Features}
\begin{itemize}
    \item \texttt{Friendship} - User friendships
    \item \texttt{Post} - User posts
    \item \texttt{Comment} - Post comments
    \item \texttt{ClubMember} - Chess club memberships
    \item \texttt{Notification} - User notifications
\end{itemize}

\subsubsection{Chat System}
\begin{itemize}
    \item \texttt{ChatMessage} - Game chat messages
    \item \texttt{ChatRoom} - Chat rooms (global, game, club, private)
    \item \texttt{ChatRoomMember} - Room memberships
    \item \texttt{ChatRoomModerator} - Room moderators
    \item \texttt{ChatRoomMessage} - Room messages
\end{itemize}

\subsubsection{Academy}
\begin{itemize}
    \item \texttt{AcademyCourse} - Educational courses
    \item \texttt{AcademyLesson} - Course lessons
    \item \texttt{AcademyProgress} - User progress
    \item \texttt{Puzzle} - Chess puzzles
\end{itemize}

\subsubsection{Economy}
\begin{itemize}
    \item \texttt{UserCurrency} - User virtual currency
    \item \texttt{CurrencyTransaction} - Currency transactions
    \item \texttt{MarketplaceItem} - Marketplace items
    \item \texttt{MarketplaceSale} - Item sales
    \item \texttt{MarketplaceReview} - Item reviews
\end{itemize}

\subsubsection{Subscriptions}
\begin{itemize}
    \item \texttt{Subscription} - User subscriptions (Stripe integration ready)
\end{itemize}

\subsection{Enums}
\begin{itemize}
    \item \texttt{GameStatus}: WAITING, IN\_PROGRESS, FINISHED, ABANDONED, DRAW\_OFFERED
    \item \texttt{GameResult}: WHITE\_WINS, BLACK\_WINS, DRAW, STALEMATE, etc.
    \item \texttt{RatingType}: OVERALL, BLITZ, RAPID, CLASSICAL, CORRESPONDENCE, PUZZLE, CHAOS
    \item \texttt{MessageType}: TEXT, MOVE\_SUGGESTION, SYSTEM
    \item \texttt{ChatRoomType}: GLOBAL, GAME, CLUB, PRIVATE, GROUP
    \item \texttt{DifficultyLevel}: BEGINNER, INTERMEDIATE, ADVANCED, EXPERT, MASTER
    \item \texttt{PuzzleTheme}: TACTICS, ENDGAME, OPENING, STRATEGY, CHECKMATE
    \item \texttt{SubscriptionStatus}: ACTIVE, CANCELED, PAST\_DUE, UNPAID, TRIALING
    \item \texttt{SubscriptionTier}: FREE, PREMIUM, DIAMOND
    \item \texttt{FriendshipStatus}: PENDING, ACCEPTED, BLOCKED
\end{itemize}

\subsection{Seed Data}
The database has been seeded with:
\begin{itemize}
    \item \textbf{Admin User}: admin@chaoschess.com (admin/admin)
    \item \textbf{Test Users}: alice@test.com, bob@test.com
    \item \textbf{Initial Ratings}: All users have ratings for OVERALL, BLITZ, RAPID (starting at 1200)
    \item \textbf{Sample Puzzles}: 2 puzzles (beginner and intermediate)
    \item \textbf{Global Chat Rooms}: General, New Players
\end{itemize}

\subsection{Database Statistics}
\begin{itemize}
    \item \textbf{Total Models}: 25+
    \item \textbf{Total Relations}: 50+
    \item \textbf{Indexes}: Optimized for common queries
    \item \textbf{Constraints}: Foreign keys, unique constraints, check constraints
\end{itemize}
